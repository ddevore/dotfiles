# --- notes {{
# $ brew install tmux
# $ brew install reattach-to-user-namespace  # this is required for tmux to work on OS
# $ pip install psutil --upgrade             # required for uptime segment
# tmux lsk                                   # list key bindings
# tmux lscm                                  # list commands
# --- notes }}

# --- key bindings {{
unbind C-b                                                   # unbind bind key
unbind '"'                                                   # unbind "
set -g prefix C-Space                                        # set bind key to ctrl-space
bind Space send-prefix
bind-key r source-file ~/.tmux.conf                          # refresh config
bind-key /      split-window -h -c "#{pane_current_path}"    # split pane horizontal
bind-key -      split-window -v -c "#{pane_current_path}"    # split pane vertical
bind-key x      kill-pane                                    # kill pane
bind-key X      kill-window                                  # kill window
bind h select-pane -L                                        # move to left pane
bind j select-pane -D                                        # move to down pane
bind k select-pane -U                                        # move to left pane
bind l select-pane -R                                        # move to right pane
bind-key -r J resize-pane -D 5                               # resize down 5
bind-key -r K resize-pane -U 5                               # resize up 5
bind-key -r H resize-pane -L 5                               # resize left 5
bind-key -r L resize-pane -R 5                               # resize right 5
# --- key bindings }}

# --- settings {{
#set -g default-shell /usr/local/bin/fish                    # caused major problem with fzf
#set -g default-command /usr/local/bin/fish                  # caused major problem with fzf
set -g default-terminal "screen-256color"                    # set color depth
set -gw mode-keys vi                                         # use vi keys
set -g base-index 1                                          # start window @ 1
set -g pane-base-index 1                                     # start pane @ 1
set -g set-titles on                                         # window titles on
setw -g utf8 on
setw -g mode-mouse on
set -g mouse-select-pane on
setw -g monitor-activity on
set -g visual-activity on
# --- settings }}

# --- status {{
set -g status on
set -g status-utf8 on
set -g status-interval 2
set -g window-status-format "#[fg=colour255,bg=colour233,nobold,noitalics,nounderscore]"
set -g window-status-current-format "#[fg=colour255,bg=colour233,nobold,noitalics,nounderscore]"
set -g status-style "fg=colour246,bg=colour233,nobold,noitalics,nounderscore"

set -g status-left-length 150
set -g status-left "#[fg=colour233,bg=colour255,bold,noitalics,nounderscore] #S #[fg=colour255,bg=colour233,nobold,noitalics,nounderscore] #[fg=colour233,bg=colour31,nobold,noitalics,nounderscore] #[fg=colour117,bg=colour31,nobold,noitalics,nounderscore]#I  #[fg=colour231,bg=colour31,bold,noitalics,nounderscore]#W #[fg=colour31,bg=colour233,nobold,noitalics,nounderscore] λ #(tmux display-message -p '#{pane_current_path}' | sed 's,^$HOME,~,')"

set -g status-right-length 150
set -g status-right "#(uptime |awk -F, '{print $1,$2}' | sed 's/:/h, /g;s/^.*up */⇑ /; s/ *[0-9]* user.*//;s/[0-9]$/&m/;s/ day. */d, /g') #[fg=colour236,bg=colour233]#[fg=colour246,bg=colour236] %d %b %Y #[fg=colour240,bg=colour236] #[fg=colour252,bg=colour236,nobold,noitalics,nounderscore]%l:%M %p#[fg=colour255,bg=colour236,nobold,noitalics,nounderscore] #[fg=colour233,bg=colour255,bold,noitalics,nounderscore]  #H "
# --- status }}

# --- copy-paste {{
#set-option -g default-command "reattach-to-user-namespace -l bash"
set-option -g default-command "reattach-to-user-namespace -l fish"
bind-key -t vi-copy v begin-selection                        # setup v to begin selection as vim
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"
unbind -t vi-copy Enter                                      # update default binding of `Enter` to use copy-pipe
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"
# --- copy-paste }}
